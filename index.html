<!DOCTYPE html>
<html lang="en-US">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS6750: Project</title>
    <style> 
        body { 
        background-image: url("background.png"); 
         background-repeat:no-repeat; 
         background-size: 500px; 
         background-position: center top; 
        }  
        div {
            margin: 50px;
        }
        </style> 
</head>
 
<body>
    <!--<img src="background.png" width="500">-->
    <div align = "center">
    <text style = "font-size: 35px" id="MyClockDisplay" class="clock" onload="showTime()"></text> <br>
    <font size="2" id="LEDOn">PREHEAT</font>
    <br>
    <button onclick="myIncrement()">+</button>
    <button onclick="myDecrement()">-</button>
    <button onclick="myStart()">Start/Cancel</button>
    <br>    
    <button onclick="myDelay(6,00)">Delay</button>
    <button onclick="myKeepWarm()">Keep Warm</button>
    <br>
    <br>
    
    <font size="2" >PRESSURE</font>
    <font size="7" id="LEDL">-</font>
    <font size="7" id="LEDH">-</font>
    <button onclick="myPressure()">Pressure</button>
    <br>
    
    
    <font size="2" >TEMP</font>
    <font size="7" id="LEDkL">-</font>
    <font size="7" id="LEDkN">-</font>
    <font size="7" id="LEDkH">-</font>
    <button onclick="myAdjust()">Temperature</button>
    <br>    <hr>
    <font size="7" id="LED1">.</font>
    <button onclick="myFunction(0, 30, 'H', 'N', 'LED1')">Soup</button>
    <font size="7" id="LED2">.</font>
    <button onclick="myFunction(0, 35, 'H', 'N', 'LED2')">Meat</button>
    <font size="7" id="LED3">.</font>
    <button onclick="myFunction(0, 30, 'H', 'N', 'LED3')">Bean</button>
    <font size="7" id="LED4">.</font>
    <button onclick="myFunction(0, 15, 'H', 'N', 'LED4')">Poultry</button>
    <font size="7" id="LED5">.</font>
    <button onclick="myFunction(0, 15, 'L','X', 'LED5')">Rice</button>
    <font size="7" id="LED6">.</font>
    <button onclick="myFunction(0, 40, 'H', 'N', 'LED6')">Multi</button>
    <font size="7" id="LED7">.</font>
    <button onclick="myFunction(0, 20, 'H', 'N', 'LED7')">Porr</button> 
    <font size="7" id="LED8">.</font>
    <button onclick="myFunction(0, 10, 'H', 'N', 'LED8')">Steam</button>

    <font size="7" id="LED9">.</font>
    <button onclick="myFunction(4, 00,'X', 'N', 'LED9')">Slow</button> 
    <font size="7" id="LED10">.</font>
    <button onclick="myFunction(0, 30,'X', 'N', 'LED10')">Saute</button>
    <font size="7" id="LED11">.</font>
    <button onclick="myFunction(8, 00,'X', 'N', 'LED11')">Yogurt</button>
    <font size="7" id="LED12">.</font>
    <button onclick="myFunction(0, 30, 'H', 'X', 'LED12')">Manual</button>
    </div>




    <script>
        let state = 'OFF';
        var audio = new Audio("game-start-6104.mp3");
        var beep = new Audio("beep-sound-8333.mp3");
        document.getElementById("MyClockDisplay").style.color = "red";

        var blink;

        function myFunction(hour,time, pressure, key, led) {
            state = 'ON';
            beep.play();
            setTime(hour, time);
            pressure_setting = pressure;
            key_setting = key;
            if(typeof led_id !== 'undefined'){document.getElementById(led_id).style.color = "black";}
            led_id = led;
            document.getElementById(led_id).style.color = "red";
            if (pressure_setting == 'H'){
            document.getElementById("LEDH").style.color = "red";
            document.getElementById("LEDL").style.color = "black";}
            else if (pressure_setting == 'L'){
            document.getElementById("LEDH").style.color = "black";
            document.getElementById("LEDL").style.color = "red";}
            else {
            document.getElementById("LEDH").style.color = "black";
            document.getElementById("LEDL").style.color = "black";}
            if (key_setting == 'L'){
            document.getElementById("LEDkH").style.color = "black";
            document.getElementById("LEDkN").style.color = "black";
            document.getElementById("LEDkL").style.color = "red";}
            else if (key_setting == 'N'){
            document.getElementById("LEDkH").style.color = "black";
            document.getElementById("LEDkN").style.color = "red";
            document.getElementById("LEDkL").style.color = "black";}
            else {
            document.getElementById("LEDkH").style.color = "black";
            document.getElementById("LEDkH").style.color = "black";
            document.getElementById("LEDkL").style.color = "black";}
            myResetTimeout();
            myBlinkTimeout(1);
        }
        function myIncrement() {
            if(state == 'OFF') {return;}
            beep.play();
            incrementTime();
            myResetTimeout();
        }
        function myDecrement() {
            if(state == 'OFF') {return;}
            beep.play();
            decrementTime();
            myResetTimeout();
        }
        function myDelay(hour, time) {
            if(state == 'OFF') {return;}
            state = 'DELAY';
            beep.play();
            clearTimeout(myVar)
            delay = time;
            setTime(hour, time);
            setTimeout(function(){
                setTime(time);
                myVar = setTimeout(function(){
                audio.play();}, 10000);}, 10000);
        }
        function myPressure() {
            if(state == 'OFF') {return;}
            beep.play();
            myResetTimeout();
                
            if(pressure_setting == 'H'){
                pressure_setting = 'L';
                document.getElementById("LEDH").style.color = "black";
                document.getElementById("LEDL").style.color = "red";
            }
            else if (pressure_setting == 'L'){
                pressure_setting = 'H';
                document.getElementById("LEDH").style.color = "red";
                document.getElementById("LEDL").style.color = "black";
            }
        }

        function myAdjust() {
            if(state == 'OFF') {return;}
            beep.play();
            myResetTimeout();
                
            if (key_setting == 'L'){
                key_setting = 'N';
                document.getElementById("LEDkH").style.color = "black";
                document.getElementById("LEDkN").style.color = "red";
                document.getElementById("LEDkL").style.color = "black";}
            else if (key_setting == 'N'){
                key_setting = 'H';
                document.getElementById("LEDkH").style.color = "red";
                document.getElementById("LEDkN").style.color = "black";
                document.getElementById("LEDkL").style.color = "black";}
            else if (key_setting == 'H'){
                key_setting = 'L';
                document.getElementById("LEDkH").style.color = "black";
                document.getElementById("LEDkN").style.color = "black";
                document.getElementById("LEDkL").style.color = "red";}
            else {
                document.getElementById("LEDkH").style.color = "black";
                document.getElementById("LEDkH").style.color = "black";
                document.getElementById("LEDkL").style.color = "black";}
        }

        function myResetTimeout(){
            if(typeof myVar !== 'undefined') {clearTimeout(myVar);}
            if(typeof blink !== 'undefined') {clearTimeout(blink);}
            var myVar = setTimeout(function(){
                myStart();}, 10000);
        }
        
        function myBlinkTimeout(opacity) {
            console.log(opacity)
            document.getElementById("MyClockDisplay").style.opacity = opacity;
            opacity = (opacity + 1) % 2;
            blink = setTimeout(function(){myBlinkTimeout(opacity);},500);
        }

        function myResetLED() {
            document.getElementById("LEDkH").style.color = "black";
            document.getElementById("LEDkN").style.color = "black";
            document.getElementById("LEDkL").style.color = "black";
            document.getElementById("LEDH").style.color = "black";
            document.getElementById("LEDL").style.color = "black";
            document.getElementById(led_id).style.color = "black";
        }

        function myStart() {
            if(state == 'OFF') {return;}
            if(state == 'START'){
                beep.play();
                state = 'OFF';
                clearTimeout(myVar)
                document.getElementById("MyClockDisplay").innerText = 'OFF';
                document.getElementById("LEDOn").style.color = "black";
                myResetLED();
            }
            else{
                clearTimeout(blink);
                document.getElementById("MyClockDisplay").style.opacity = 1;
                state = 'START';
                audio.play();
                document.getElementById("MyClockDisplay").innerText = 'On';
                document.getElementById("LEDOn").style.color = "red";
            }
        }


        function showTime(){
            var h = 0; // 0 - 23
            var m = 0; // 0 - 59
    
            var hh = "0" + h;
            var mm = "0" + m;
            
            var time = hh + ":" + mm ;
            document.getElementById("MyClockDisplay").innerText = 'OFF';
            
        }
        function incrementTime(){
            h = h; // 0 - 23
            m = m + 1; // 0 - 59
            if(m > 59){
                h = h + 1;
                m = 0;
            }
            
            hh = (h < 10) ? "0" + h : h;
            mm = (m < 10) ? "0" + m : m;
            
            var time = hh + ":" + mm ;
            document.getElementById("MyClockDisplay").innerText = time;
            
        
        }        
        function decrementTime(){
            h = h; // 0 - 23
            m = m - 1; // 0 - 59
            if(m < 0){
                h = Math.max(0, h-1);
                m = 0;
            }
            
            hh = (h < 10) ? "0" + h : h;
            mm = (m < 10) ? "0" + m : m;
            
            var time = hh + ":" + mm ;
            document.getElementById("MyClockDisplay").innerText = time;
            
        
        }
        function setTime(hour, min){
            h = hour; // 0 - 23
            m = min; // 0 - 59
            
            hh = (h < 10) ? "0" + h : h;
            mm = (m < 10) ? "0" + m : m;
            
            var time = hh + ":" + mm ;
            document.getElementById("MyClockDisplay").innerText = time;
            
        
        }


showTime();

    </script>

    
 
</body>
 
</html>
